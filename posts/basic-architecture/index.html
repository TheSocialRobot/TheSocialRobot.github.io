<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Basic Architecture" /><meta property="og:locale" content="en" /><meta name="description" content="The social robot project aims to build an open source robot companion. We’re not aiming for AGI, but to create engaging software that supports both commercial robot platforms such as NAO, Pepper and Buddy but also custom hardware." /><meta property="og:description" content="The social robot project aims to build an open source robot companion. We’re not aiming for AGI, but to create engaging software that supports both commercial robot platforms such as NAO, Pepper and Buddy but also custom hardware." /><link rel="canonical" href="https://www.thesocialrobot.org/posts/basic-architecture/" /><meta property="og:url" content="https://www.thesocialrobot.org/posts/basic-architecture/" /><meta property="og:site_name" content="The Social Robot" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-06-26T20:45:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Basic Architecture" /><meta name="twitter:site" content="@davesnowdon" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-08-01T12:18:21+01:00","datePublished":"2022-06-26T20:45:00+01:00","description":"The social robot project aims to build an open source robot companion. We’re not aiming for AGI, but to create engaging software that supports both commercial robot platforms such as NAO, Pepper and Buddy but also custom hardware.","headline":"Basic Architecture","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.thesocialrobot.org/posts/basic-architecture/"},"url":"https://www.thesocialrobot.org/posts/basic-architecture/"}</script><title>Basic Architecture | The Social Robot</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="The Social Robot"><meta name="application-name" content="The Social Robot"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/avatar.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">The Social Robot</a></div><div class="site-subtitle font-italic">An embodied robot companion</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/TheSocialRobot" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/davesnowdon" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hello','thesocialrobot.org'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Basic Architecture</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Basic Architecture</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/davesnowdon">Dave Snowdon</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1656272700" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-06-26 </em> </span> <span> Updated <em class="timeago" data-ts="1659352701" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-08-01 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1009 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><p><img data-src="/assets/posts/2022-06-26-basic-architecture/the-social-robot-arch-1.svg" alt="Robot and Brain" data-proofer-ignore></p><p>I intend to publish on a two-week cadence, but I let life get away from me a bit over the last few weeks and so this post is very late. Sorry! I will do better in future.</p><p>There are other existing chatbots that are worth discussing, but in order to keep things interesting I’m going to intersperse the other “state of the art” posts with more technical posts about The Social Robot. Today we’re going to look at some very basic architectural choices.</p><p>NAO, Alpha 2 &amp; K9 are robots of very little brain. NAO has a dual core Intel Atom, K9 2 has Raspberry Pi 3s and I’m not sure what Alpha2’s processor is, but I doubt I’ll be running any deep learning algorithms on it.</p><p>So, starting with the obvious, our high-level picture looks a bit like this - we need to offload processing to something not on the robot. That might be on local hardware or something running in the cloud.</p><p>That in turn invites more questions:</p><ul><li>is the picture really this simple? In other words, should there be more entities in this picture?<li>what information needs to be passed between the robot and the “brain”<li>what protocol should we use to send this information</ul><p>Let’s take these questions in order…</p><h2 id="what-might-be-missing-from-our-picture"><span class="mr-2">What might be missing from our picture?</span><a href="#what-might-be-missing-from-our-picture" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Some services might be quite hard for us to run ourselves. One example might be speech to text - we’re going to need that if we’re going to use voice to communicate with our robot and keyword spotting is unlikely to be enough. So let’s say we decide to use Google, AWS, or Azure services to convert audio to text for us. Well, that’s easy now our picture looks like this.</p><p><img data-src="/assets/posts/2022-06-26-basic-architecture/the-social-robot-arch-2.svg" alt="Robot and Brain" data-proofer-ignore></p><p>But wait, that means we’re streaming audio from the robot to the “brain” and then the “brain” is streaming it to something else. That’s going to introduce lag. Maybe the picture should look like this instead?</p><p><img data-src="/assets/posts/2022-06-26-basic-architecture/the-social-robot-arch-3.svg" alt="Robot and Brain" data-proofer-ignore></p><p>But now we’ve made things more complex on the robot. It has to know about multiple systems and we’ve leaked implementation details outside of the “brain”. Also these cloud services aren’t free we can’t just stream audio continuously from the robot unless we have money to burn. That means we need something to detect if someone is speaking or otherwise gate the audio stream (for example by only streaming audio if the robot detects someone is looking at it). Streaming audio from the robot means that any audio “gate” is going to have to live on the robot too and there is only a limited amount of compute the robot will support.</p><p>For now let’s aim for simplicity and worry about lag when/if we have to</p><p><img data-src="/assets/posts/2022-06-26-basic-architecture/the-social-robot-arch-4.svg" alt="Robot and Brain" data-proofer-ignore></p><p>Audio is likely to be the most latency sensitive media. For now let’s assume that all media streamed from robot (for example video) is streamed first to the brain and then only elsewhere if part of the brain decides that’s required.</p><h2 id="whats-in-our-robot-brain-communication"><span class="mr-2">What’s in our robot-brain communication?</span><a href="#whats-in-our-robot-brain-communication" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>If the only communication between the robot and the brain was audio then we’d have re-invented the smart speaker. The robot needs to sense it’s environment so the brain also needs visual information, as well as input from any other sensors on the robot (tactile, distance sensors etc) as well as position information and joint angles (proprioception). The robot also needs to express itself so we also need to send motor commands to the robot as well as audio if the robot does not include a speech synthesizer or text commands if it has built-in text to speech (as NAO does for example).</p><p><img data-src="/assets/posts/2022-06-26-basic-architecture/the-social-robot-arch-5.svg" alt="Robot and Brain" data-proofer-ignore></p><h2 id="what-protocol-do-we-use-for-robot-brain-communication"><span class="mr-2">What protocol do we use for robot-brain communication?</span><a href="#what-protocol-do-we-use-for-robot-brain-communication" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>ROS (Robot Operating System) is a platform designed to support robot applications. According to the <a href="https://www.ros.org/">official site</a>, ROS is “a set of software libraries and tools that help you build robot applications”. I’ve only dabbled a little with ROS, and my understanding is that it basically provides the following:</p><ul><li>pub/sub and client/server messaging frameworks<li>drivers for many existing robots and hardware components<li>implementations of important algorithms such as SLAM (Simultaneous Location And Mapping)<li>simulation and visualisation tools</ul><p>It sounds really cool, but I’m not going to use it. At least not yet. This is what I care about concerning the transport between robot and brain:</p><ul><li>latency - if spoken interaction with the robot is going to seem natural then I want to keep the latency of audio streamed between the robot and the speech-to-text engine as low as possible<li>privacy - the connection needs to be protected with reliable industry standard encryption<li>standard protocols and tooling - both to make implementation easier and also for this to be a useful example of building an application with modern tooling</ul><p>I’ll use ROS where it makes sense to use it, but for the initial implementation I’m going to try <a href="https://grpc.io">gRPC</a> for the body/brain transport:</p><ul><li>it supports multiple authentication methods<li>it provides a secure transport via SSL/TLS<li>it has a bi-directional streaming mode so I can use it for body -&gt; brain messages as well as brain -&gt; body messages<li>it supports any languages I might wish to use for the project</ul><p>There are other messaging solutions I could have used, such as <a href="https://zeromq.org/">ZeroMQ</a>, but for now at least, gRPC appears to provide most of what I want with least effort.</p><h2 id="conclusion"><span class="mr-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>So at a very high and hand-wavy level we have something like this.</p><p><img data-src="/assets/posts/2022-06-26-basic-architecture/the-social-robot-arch-6.svg" alt="Robot and Brain" data-proofer-ignore></p><p>In the brain there will be a number of specialised services - these will likely be running in docker containers and eventually we’ll need some kind of orchestrator such as docker swarm or kubernetes. On the robot we might be able to run docker (eg on Raspberry Pi) but mostly likely not (NAO, Alpha2) and so we may end up with one or a small number of executables that host multiple components. On NAO this will be a combination of native apps and python and on Alpha 2 an android app.</p><h2 id="acknowledgements"><span class="mr-2">Acknowledgements</span><a href="#acknowledgements" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>Diagrams drawn with <a href="https://excalidraw.com/">Excalidraw</a><li>Robots Excalidraw library by <a href="https://schauderbasis.de">@Kaligule</a><li>Cloud Excalidraw library by <a href="https://twitter.com/rafaelfranzke">@rfranzke</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> All rights reserved by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Basic Architecture - The Social Robot&amp;url=https://www.thesocialrobot.org//posts/basic-architecture/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Basic Architecture - The Social Robot&amp;u=https://www.thesocialrobot.org//posts/basic-architecture/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://www.thesocialrobot.org//posts/basic-architecture/&amp;text=Basic Architecture - The Social Robot" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/bridging-the-digital-divide-can-humans-and-ais-forge-true-friendships/">Bridging the Digital Divide: Can Humans and AIs Forge True Friendships?</a><li><a href="/posts/chatgpt/">State of the Chatbot - ChatGPT</a><li><a href="/posts/basic-architecture/">Basic Architecture</a><li><a href="/posts/hello-world/">Hello World</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/i-ve-been-doing-the-social-robot-wrong/"><div class="card-body"> <em class="timeago small" data-ts="1729448520" > 2024-10-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>I've been doing the social robot wrong</h3><div class="text-muted small"><p> I’ve been thinking about my lack of progress on The Social Robot project. It occurs to me that it’s been at a standstill because I’ve been finding it very hard to motivate myself. I think that’s be...</p></div></div></a></div><div class="card"> <a href="/posts/empowering-the-bedridden-robots-enable-work-and-social-engagement-from-home/"><div class="card-body"> <em class="timeago small" data-ts="1694893500" > 2023-09-16 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Empowering the Bedridden: How Robots Are Changing Lives by Enabling Work and Social Engagement</h3><div class="text-muted small"><p> Introduction Imagine being confined to your home, unable to step outside, yet still having the ability to work and socialize as if you were out in the world. This isn’t a futuristic dream; it’s ...</p></div></div></a></div><div class="card"> <a href="/posts/bridging-the-digital-divide-can-humans-and-ais-forge-true-friendships/"><div class="card-body"> <em class="timeago small" data-ts="1682015820" > 2023-04-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Bridging the Digital Divide: Can Humans and AIs Forge True Friendships?</h3><div class="text-muted small"><p> I just finished listening to the Bot Love podcast and that got me wondering: “can it really be possible for a human and AI to be friends?” Asymmetric friendship normally refers to friendships in w...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/replika/" class="btn btn-outline-primary" prompt="Older"><p>State of the Chatbot - Replika</p></a> <a href="/posts/woebot/" class="btn btn-outline-primary" prompt="Newer"><p>State of the Chatbot - Woebot</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://www.thesocialrobot.org//posts/basic-architecture/'; this.page.identifier = '/posts/basic-architecture/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://thesocialrobot.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/davesnowdon">Dave Snowdon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are copyright of the author and may not be reproduced without permission.">All rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-DSJH283QQW"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-DSJH283QQW'); }); </script>
